!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r,o=function(){return function(){}}(),i=function(){function t(){this.elem=document.createElement("div"),this.elem.classList.add("editor-block")}return t.prototype.render=function(){return this.elem},t}(),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e}return u(e,t),e.prototype.parse=function(t){return new l(t.content)},e}(o),l=function(t){function e(e){var n=t.call(this)||this;return n.content=e,n.textarea=document.createElement("textarea"),n.elem.classList.add("editor-block-text"),n.elem.appendChild(n.textarea),n.elem.innerHTML=n.content,n}return u(e,t),e}(i),a=function(){function t(t){this.editor=t,this.elem=document.createElement("div"),this.textButton=document.createElement("span"),this.elem.appendChild(this.textButton),this.elem.classList.add("editor-control"),this.textButton.classList.add("editor-control-text-button"),this.textButton.innerHTML="Add text",this.textButton.onclick=function(){t.add(new l(""))}}return t.prototype.render=function(){return this.elem},t}(),s=[new c];var d=function(){function t(t,e){this.elem=t,this.content=function(t){for(var e=[],n=0,r=t;n<r.length;n++){for(var o=r[n],i=!1,u=0,c=s;u<c.length;u++){var l=c[u];l.type==o.type&&(i=!0,e.push(l.parse(o)))}i||console.warn("Unrecognized block type: "+o.type)}return e}(e),this.render()}return t.prototype.add=function(t){this.content.push(t),this.elem.appendChild(t.render())},t.prototype.render=function(){for(var t=0,e=this.content;t<e.length;t++){var n=e[t];this.elem.appendChild(n.render())}this.control=new a(this),this.elem.appendChild(this.control.render())},t}();window.installEditor=function(t){new d(t.elem,t.content)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRvci9ibG9jay9ibG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZWRpdG9yL2Jsb2NrL3RleHQtYmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRvci9jb250cm9sLnRzIiwid2VicGFjazovLy8uL3NyYy9lZGl0b3IvZWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJsb2NrUmVhZGVyIiwiQmxvY2siLCJ0aGlzIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbmRlciIsIlRleHRCbG9ja1JlYWRlciIsIl9zdXBlciIsIl90aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0eXBlIiwiX19leHRlbmRzIiwicGFyc2UiLCJyYXdCbG9jayIsIlRleHRCbG9jayIsImNvbnRlbnQiLCJ0ZXh0YXJlYSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiY29udHJvbF9Db250cm9sIiwiQ29udHJvbCIsImVkaXRvciIsInRleHRCdXR0b24iLCJvbmNsaWNrIiwiQkxPQ0tTIiwiZWRpdG9yX0VkaXRvciIsIkVkaXRvciIsInJhd0NvbnRlbnQiLCJfaSIsInJhd0NvbnRlbnRfMSIsImxlbmd0aCIsInByb2Nlc3NlZCIsIl9hIiwiQkxPQ0tTXzEiLCJibG9jayIsInB1c2giLCJjb25zb2xlIiwid2FybiIsImNvbnZlcnRSYXdDb250ZW50IiwiY29udHJvbCIsIndpbmRvdyIsImluc3RhbGxFZGl0b3IiLCJvcHRpb25zIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFB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N0IsS0FBS00sU0FnQlQsT0FiRXNCLEVBQUFsQyxVQUFBVyxJQUFBLFNBQUkrQixHQUNGcEMsS0FBS2lCLFFBQVFvQixLQUFLRCxHQUNsQnBDLEtBQUtDLEtBQUtrQixZQUFZaUIsRUFBTTlCLFdBR3RCc0IsRUFBQWxDLFVBQUFZLE9BQVIsV0FDRSxJQUFrQixJQUFBd0IsRUFBQSxFQUFBSSxFQUFBbEMsS0FBS2lCLFFBQUxhLEVBQUFJLEVBQUFGLE9BQUFGLElBQWMsQ0FBM0IsSUFBSU0sRUFBS0YsRUFBQUosR0FDWjlCLEtBQUtDLEtBQUtrQixZQUFZaUIsRUFBTTlCLFVBRzlCTixLQUFLeUMsUUFBVSxJQUFJcEIsRUFBUXJCLE1BQzNCQSxLQUFLQyxLQUFLa0IsWUFBWW5CLEtBQUt5QyxRQUFRbkMsV0FFdkNzQixFQXRCQSxHQzNCTWMsT0FBUUMsY0FBZ0IsU0FBQ0MsR0FDN0IsSUFBSWpCLEVBQU9pQixFQUFRM0MsS0FBTTJDLEVBQVEzQiIsImZpbGUiOiJlZGl0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgaW50ZXJmYWNlIFJhd0Jsb2NrIHtcbiAgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmxvY2tSZWFkZXIge1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG5cbiAgYWJzdHJhY3QgcGFyc2UocmF3QmxvY2s6IFJhd0Jsb2NrKTogQmxvY2tcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJsb2NrIHtcbiAgZWxlbTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnZWRpdG9yLWJsb2NrJyk7XG4gIH1cblxuICByZW5kZXIoKTogSFRNTERpdkVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmVsZW07XG4gIH1cbn1cblxuIiwiaW1wb3J0IHsgQmxvY2ssIFJhd0Jsb2NrLCBCbG9ja1JlYWRlciB9IGZyb20gJy4vYmxvY2snXG5cbmludGVyZmFjZSBSYXdUZXh0QmxvY2sgZXh0ZW5kcyBSYXdCbG9jayB7XG4gIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFRleHRCbG9ja1JlYWRlciBleHRlbmRzIEJsb2NrUmVhZGVyIHtcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ3RleHQnO1xuXG4gIHBhcnNlKHJhd0Jsb2NrOiBSYXdCbG9jayk6IEJsb2NrIHtcbiAgICBsZXQgcmF3VGV4dEJsb2NrID0gcmF3QmxvY2sgYXMgUmF3VGV4dEJsb2NrO1xuICAgIHJldHVybiBuZXcgVGV4dEJsb2NrKHJhd1RleHRCbG9jay5jb250ZW50KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGV4dEJsb2NrIGV4dGVuZHMgQmxvY2sge1xuXG4gIHRleHRhcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgY29udGVudDogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnZWRpdG9yLWJsb2NrLXRleHQnKTtcbiAgICBcbiAgICB0aGlzLmVsZW0uYXBwZW5kQ2hpbGQodGhpcy50ZXh0YXJlYSk7XG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHRoaXMuY29udGVudDtcbiAgfVxufSIsImltcG9ydCB7IEVkaXRvciB9IGZyb20gJy4vZWRpdG9yJztcbmltcG9ydCB7IFRleHRCbG9jayB9IGZyb20gJy4vYmxvY2svdGV4dC1ibG9jayc7XG5cbmV4cG9ydCBjbGFzcyBDb250cm9sIHtcbiAgZWxlbTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGV4dEJ1dHRvbjogSFRNTFNwYW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlZGl0b3I6IEVkaXRvcikge1xuICAgIHRoaXMuZWxlbS5hcHBlbmRDaGlsZCh0aGlzLnRleHRCdXR0b24pO1xuXG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ2VkaXRvci1jb250cm9sJyk7XG4gICAgdGhpcy50ZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VkaXRvci1jb250cm9sLXRleHQtYnV0dG9uJylcbiAgICB0aGlzLnRleHRCdXR0b24uaW5uZXJIVE1MID0gJ0FkZCB0ZXh0JztcbiAgICB0aGlzLnRleHRCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgIGVkaXRvci5hZGQobmV3IFRleHRCbG9jaygnJykpO1xuICAgIH07XG4gIH1cblxuICByZW5kZXIoKTogSFRNTERpdkVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmVsZW07XG4gIH1cbn0iLCJpbXBvcnQgeyBCbG9jaywgQmxvY2tSZWFkZXIsIFJhd0Jsb2NrIH0gZnJvbSAnLi9ibG9jay9ibG9jayc7XG5pbXBvcnQgeyBUZXh0QmxvY2tSZWFkZXIgfSBmcm9tICcuL2Jsb2NrL3RleHQtYmxvY2snO1xuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gJy4vY29udHJvbCc7XG5cbmNvbnN0IEJMT0NLUzogQXJyYXk8QmxvY2tSZWFkZXI+ID0gW1xuICBuZXcgVGV4dEJsb2NrUmVhZGVyKClcbl07XG5cblxuZnVuY3Rpb24gY29udmVydFJhd0NvbnRlbnQocmF3Q29udGVudDogQXJyYXk8UmF3QmxvY2s+KTogQXJyYXk8QmxvY2s+IHtcbiAgbGV0IGNvbnRlbnQ6IEFycmF5PEJsb2NrPiA9IFtdO1xuXG4gIGZvciAobGV0IHJhd0Jsb2NrIG9mIHJhd0NvbnRlbnQpIHtcbiAgICBsZXQgcHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgYmxvY2sgb2YgQkxPQ0tTKSB7XG4gICAgICBpZiAoYmxvY2sudHlwZSA9PSByYXdCbG9jay50eXBlKSB7XG4gICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgIGNvbnRlbnQucHVzaChibG9jay5wYXJzZShyYXdCbG9jaykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcHJvY2Vzc2VkKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFVucmVjb2duaXplZCBibG9jayB0eXBlOiAke3Jhd0Jsb2NrLnR5cGV9YCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0b3Ige1xuICBjb250ZW50OiBBcnJheTxCbG9jaz47XG4gIGNvbnRyb2w6IENvbnRyb2w7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGVsZW06IEhUTUxEaXZFbGVtZW50LCByYXdDb250ZW50OiBBcnJheTxSYXdCbG9jaz4pIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb252ZXJ0UmF3Q29udGVudChyYXdDb250ZW50KTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgYWRkKGJsb2NrOiBCbG9jaykge1xuICAgIHRoaXMuY29udGVudC5wdXNoKGJsb2NrKTtcbiAgICB0aGlzLmVsZW0uYXBwZW5kQ2hpbGQoYmxvY2sucmVuZGVyKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKSB7XG4gICAgZm9yIChsZXQgYmxvY2sgb2YgdGhpcy5jb250ZW50KSB7XG4gICAgICB0aGlzLmVsZW0uYXBwZW5kQ2hpbGQoYmxvY2sucmVuZGVyKCkpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmNvbnRyb2wgPSBuZXcgQ29udHJvbCh0aGlzKTtcbiAgICB0aGlzLmVsZW0uYXBwZW5kQ2hpbGQodGhpcy5jb250cm9sLnJlbmRlcigpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSAnLi9lZGl0b3IvZWRpdG9yJ1xuXG4oPGFueT53aW5kb3cpLmluc3RhbGxFZGl0b3IgPSAob3B0aW9uczogYW55KSA9PiB7XG4gIG5ldyBFZGl0b3Iob3B0aW9ucy5lbGVtLCBvcHRpb25zLmNvbnRlbnQpXG59OyJdLCJzb3VyY2VSb290IjoiIn0=